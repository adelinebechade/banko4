{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <main role="main" class="col-md-10 ml-sm-auto col-lg-10 px-4">
        <br>
        <h1>{{ 'account_list'|trans }}</h1>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead class="thead-light">
                <tr>
                    <th>{{ 'name'|trans }}</th>
                    <th class="text-center">{{ 'current_balance'|trans }}</th>
                    <th class="text-center">{{ 'forecast_balance'|trans }}</th>
                </tr>
                </thead>
                <tbody>
                {% for compte in comptes %}
                    <tr style="cursor:pointer;" onclick="document.location='{{ path('show', {'compte': compte.id}) }}'" title="{{ 'display'|trans }}">
                        <td>{{ compte.nom }}</td>
                        <td class="text-center">{{ solde_courant[compte.id] }} €</td>
                        <td class="text-center">{{ solde_previsionnel[compte.id] }} €</td>
                    </tr>
                {% else %}
                    <tr>{{ 'no_account_found'|trans }}</tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="container">
            <div id="stats">
                {{ render(controller('App\\Controller\\DashboardController::stats')) }}
            </div>
        </div>
    </main>
{% endblock %}
